
//: Declare String Begin

/*: "mf/moment/list" :*/
fileprivate let str_effectContent:[Character] = ["m","f","/","m","o","m"]
fileprivate let str_coverTitle:String = "ent/listfinish in home image"

/*: "mf/moment/moments" :*/
fileprivate let str_specialName:String = "broadcast player aspectmf/mome"
fileprivate let str_fromColorText:[Character] = ["n","t","/","m","o","m","e","n","t","s"]

/*: "mf/moment/like" :*/
fileprivate let str_blockText:[Character] = ["m","f","/","m","o","m","e","n","t","/","l","i","k","e"]

/*: "mf/crush/send" :*/
fileprivate let str_modeText:[Character] = ["m","f","/","c","r","u","s","h","/","s"]
fileprivate let str_infoData:String = "eshare"

/*: "mf/moment/view" :*/
fileprivate let str_textValue:[Character] = ["m","f","/","m","o","m","e","n","t"]
fileprivate let str_selectValue:String = "/viewtext to current button"

/*: "mf/momentReply/list" :*/
fileprivate let str_makeTitle:String = "mf/moprogress style"
fileprivate let str_labelContent:[Character] = ["m","e","n","t","R","e","p","l","y","/","l","i","s","t"]

/*: "mf/momentReply/save" :*/
fileprivate let str_countText:[Character] = ["m","f","/","m","o","m","e","n","t","R","e","p"]
fileprivate let str_inputValue:String = "ly/saveme show"

/*: "mf/moment/videoSign" :*/
fileprivate let str_titleUserData:String = "mf/mpop change"
fileprivate let str_rawValue:String = "object guard paint/vid"
fileprivate let str_frameViewData:[Character] = ["e","o","S","i","g","n"]

/*: "dynamicPic.zip" :*/
fileprivate let str_userMakeAsName:String = "dynamicorner"
fileprivate let str_showHeadValue:String = "Pibreak number"
fileprivate let str_inputData:String = "c.zipvar in if aircraft click"

/*: "pic" :*/
fileprivate let str_frameValue:[UInt8] = [0xf5,0xec,0xe6]

private func acceptDrop(mode num: UInt8) -> UInt8 {
    return num ^ 133
}

/*: "content" :*/
fileprivate let str_mightImageValue:String = "CONTENT"

/*: "mf/moment/save" :*/
fileprivate let str_errorName:String = "mf/momus mode"
fileprivate let str_momentData:String = "ent/main at view translation content"

/*: "Publish Successful, Go to My Dynamics to view" :*/
fileprivate let str_tableTitle:[UInt8] = [0x77,0x65,0x69,0x76,0x20,0x6f,0x74,0x20,0x73,0x63,0x69,0x6d,0x61,0x6e,0x79,0x44,0x20,0x79,0x4d,0x20,0x6f,0x74,0x20,0x6f,0x47,0x20,0x2c,0x6c,0x75,0x66,0x73,0x73,0x65,0x63,0x63,0x75,0x53,0x20,0x68,0x73,0x69,0x6c,0x62,0x75,0x50]

/*: "mf/moment/saveVideo" :*/
fileprivate let str_mainData:String = "mf/moextension var let yet return"
fileprivate let str_sectionSData:String = "skeye"

/*: .png" :*/
fileprivate let str_tagAtLetData:String = "control view string var.png"

/*: "dynamicPic" :*/
fileprivate let str_colorTitle:String = "dynamicPelse manager at"
fileprivate let str_mainTitle:[Character] = ["i","c"]

/*: "freeImage" :*/
fileprivate let str_equalText:String = "freeImagstyle image"
fileprivate let str_colorName:String = "video"

/*: "mf/momentReply/replylist" :*/
fileprivate let str_attentionData:[Character] = ["m","f","/","m","o","m","e","n","t"]
fileprivate let str_gestureName:String = "Replelse to"
fileprivate let str_listLiveValue:String = "PLYLIST"

/*: "mf/moment/delete" :*/
fileprivate let str_modelPhotoName:[Character] = ["m","f","/","m","o","m","e","n","t","/","d","e","l"]
fileprivate let str_modeData:String = "labele"

/*: "mf/momentReply/delete" :*/
fileprivate let str_emptyCenterViewValue:String = "name conversation return selfmf/mom"
fileprivate let str_contentData:String = "etingy"

/*: "mf/moment/pin" :*/
fileprivate let str_photoText:String = "type content to back typemf/momen"
fileprivate let str_detailText:String = "make height havet/pin"

/*: "mf/moment/remindNum" :*/
fileprivate let str_hiddenValue:[Character] = ["m","f","/","m","o","m","e","n","t","/","r","e","m"]
fileprivate let str_tempData:String = "indNumself self name var self"

/*: "mf/moment/remindList" :*/
fileprivate let str_colorContent:String = "make pathmf/mom"
fileprivate let str_bottomTitle:String = "ent/scale image for video count"
fileprivate let str_conversationValue:String = "remiback"

/*: "page" :*/
fileprivate let str_insideValue:[UInt8] = [0x7f,0x6e,0x68,0x6a]

private func viewApp(blue num: UInt8) -> UInt8 {
    return num ^ 15
}

/*: "cos/getCredential" :*/
fileprivate let str_liveValue:String = "effect text upcos/ge"
fileprivate let str_dataText:String = "available"
fileprivate let str_picItemText:String = "Credentype equal cell"

/*: "type" :*/
fileprivate let str_interactionData:[Character] = ["t","y","p","e"]

/*: "user/reportUserInfo" :*/
fileprivate let str_shareData:String = "translateer"
fileprivate let str_makeInviteTitle:String = "let attribute succeedortUse"
fileprivate let str_labValue:[Character] = ["o"]

/*: "uid" :*/
fileprivate let str_managerData:String = "UID"

/*: "deviceId" :*/
fileprivate let str_pointData:String = "deviceIdif true image true"

/*: "deviceName" :*/
fileprivate let str_betweenData:String = "deviceNvalue true"
fileprivate let str_fromData:String = "AME"

/*: "iphone" :*/
fileprivate let str_topDataPushContent:String = "iphonto"

/*: "fileUrl" :*/
fileprivate let str_itemGiftData:String = "fileUrllabel user to"

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  StreamRequestTool.swift
//  AbroadTalking
//
//  Created by Charlotte on 2022/9/19.
//

//: import Adjust
import Adjust
//: import UIKit
import UIKit

//: class TalkingMomentRequestTool: NSObject {
class StreamRequestTool: NSObject {
    //: let _fm = FileManager.default
    let _fm = FileManager.default

    /// 动态列表接口
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func rounderCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/list"
        reqModel.requestPath = (String(str_effectContent) + String(str_coverTitle.prefix(8)))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 用户动态接口
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_UserMomentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func packetCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/moments"
        reqModel.requestPath = (String(str_specialName.suffix(7)) + String(str_fromColorText))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 点赞
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentLike(params: [String: Any], completion: @escaping FinishBlock) {
    class func remove(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/like"
        reqModel.requestPath = (String(str_blockText))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 谁心动我 - 发送心动
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CrushSend(params: [String: Any], completion: @escaping FinishBlock) {
    class func activity(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/crush/send"
        reqModel.requestPath = (String(str_modeText) + str_infoData.replacingOccurrences(of: "share", with: "nd"))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态详情
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentDetail(params: [String: Any], completion: @escaping FinishBlock) {
    class func key(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/view"
        reqModel.requestPath = (String(str_textValue) + String(str_selectValue.prefix(5)))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态评论列表
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CommentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func shank(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/momentReply/list"
        reqModel.requestPath = (String(str_makeTitle.prefix(5)) + String(str_labelContent))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 发表评论、回复
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_SendComment(params: [String: Any], completion: @escaping FinishBlock) {
    class func search(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/momentReply/save"
        reqModel.requestPath = (String(str_countText) + String(str_inputValue.prefix(7)))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取视频上传sign
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_VideoSign(params: [String: Any], completion: @escaping FinishBlock) {
    class func visualCommunicationInsideCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/videoSign"
        reqModel.requestPath = (String(str_titleUserData.prefix(4)) + "oment" + String(str_rawValue.suffix(4)) + String(str_frameViewData))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态发布
    /// - Parameters:
    ///   - photos: 图片
    ///   - content: 内容
    ///   - completion: 回调
    //: func releasePhotosMoment(photos: [UIImage], content: String, completion: @escaping FinishBlock) {
    func limitCompletion(photos: [UIImage], content: String, completion: @escaping FinishBlock) {
        // 处理图片
        //: deleteFile()
        noneApp()
        //: for (index, photo) in photos.enumerated() {
        for (index, photo) in photos.enumerated() {
            //: getImagePath(index: index, image: photo)
            receive(index: index, image: photo)
        }
        //: let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        //: let doc_path = (documentDictPath as NSString).appendingPathComponent("dynamicPic.zip")
        let doc_path = (documentDictPath as NSString).appendingPathComponent((str_userMakeAsName.replacingOccurrences(of: "corner", with: "c") + String(str_showHeadValue.prefix(2)) + String(str_inputData.prefix(5))))
        //: SSZipArchive.createZipFile(atPath: doc_path, withContentsOfDirectory: filePath)
        SSZipArchive.createZipFile(atPath: doc_path, withContentsOfDirectory: filePath)
        //: DispatchQueue.global().async {
        DispatchQueue.global().async {
            //: let data = NSData(contentsOfFile: doc_path)
            let data = NSData(contentsOfFile: doc_path)
            //: DispatchQueue.main.async {
            DispatchQueue.main.async {
                // 发布
                //: var params: [String: Any] = ["pic": data as Any]
                var params: [String: Any] = [String(bytes: str_frameValue.map{acceptDrop(mode: $0)}, encoding: .utf8)!: data as Any]
                //: if content.count > 0 {
                if content.count > 0 {
                    //: params["content"] = content
                    params[(str_mightImageValue.lowercased())] = content
                }
                //: let reqModel = TalkingRequestModel()
                let reqModel = IndexRequestModel()
                //: reqModel.requestPath = "mf/moment/save"
                reqModel.requestPath = (String(str_errorName.prefix(6)) + String(str_momentData.prefix(4)) + "save")
                //: reqModel.requestType = .POST
                reqModel.requestType = .POST
                //: reqModel.params = params
                reqModel.params = params
                //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
                kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
                    //: if succeed {
                    if succeed {
                        //: self.func__showStatusBarSuccessMsg(showMsg: "Publish Successful, Go to My Dynamics to view".localized)
                        self.sizeExecuteMsg(showMsg: String(bytes: str_tableTitle.reversed(), encoding: .utf8)!.localized)
                        //: self.deleteFile()
                        self.noneApp()
                    }
                    //: completion(succeed, result, errorModel)
                    completion(succeed, result, errorModel)
                }
            }
        }
    }

    /// 动态发布
    /// - Parameters:
    ///   - completion: 回调
    //: class func releaseVideoMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func releaseWithinIndex(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/saveVideo"
        reqModel.requestPath = (String(str_mainData.prefix(5)) + "ment/" + str_sectionSData.replacingOccurrences(of: "key", with: "av") + "Video")
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    //: private func getImagePath(index: Int, image: UIImage) {
    private func receive(index: Int, image: UIImage) {
        //: let data = image.compressedImageData()
        let data = image.image()
        //: let nameString = "\(index).png"
        let nameString = "\(index)" + (String(str_tagAtLetData.suffix(4)))
        //: let picPath = (filePath as NSString).appendingPathComponent("dynamicPic")
        let picPath = (filePath as NSString).appendingPathComponent((String(str_colorTitle.prefix(8)) + String(str_mainTitle)))
        //: if !_fm.fileExists(atPath: picPath) {
        if !_fm.fileExists(atPath: picPath) {
            //: try? _fm.createDirectory(atPath: picPath, withIntermediateDirectories: true)
            try? _fm.createDirectory(atPath: picPath, withIntermediateDirectories: true)
        }
        //: let imagePath = (picPath as NSString).appendingPathComponent(nameString)
        let imagePath = (picPath as NSString).appendingPathComponent(nameString)
        //: _fm.createFile(atPath: imagePath, contents: data)
        _fm.createFile(atPath: imagePath, contents: data)
    }

    //: private func deleteFile() {
    private func noneApp() {
        //: if _fm.fileExists(atPath: filePath) {
        if _fm.fileExists(atPath: filePath) {
            //: try? _fm.removeItem(atPath: filePath)
            try? _fm.removeItem(atPath: filePath)
        }
    }

    //: private lazy var filePath: String = {
    private lazy var filePath: String = {
        //: let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        //: let imagePath = (documentDictPath as NSString).appendingPathComponent("freeImage")
        let imagePath = (documentDictPath as NSString).appendingPathComponent((String(str_equalText.prefix(8)) + str_colorName.replacingOccurrences(of: "video", with: "e")))
        //: return imagePath
        return imagePath
        //: }()
    }()

    /// 子评论列表
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CommentDetailList(params: [String: Any], completion: @escaping FinishBlock) {
    class func writing(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/momentReply/replylist"
        reqModel.requestPath = (String(str_attentionData) + String(str_gestureName.prefix(4)) + "y/re" + str_listLiveValue.lowercased())
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 删除动态
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_DeleteMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func withText(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/delete"
        reqModel.requestPath = (String(str_modelPhotoName) + str_modeData.replacingOccurrences(of: "label", with: "et"))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 删除评论
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_DeleteMomentReply(params: [String: Any], completion: @escaping FinishBlock) {
    class func imageCard(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/momentReply/delete"
        reqModel.requestPath = (String(str_emptyCenterViewValue.suffix(6)) + "entR" + str_contentData.replacingOccurrences(of: "ting", with: "pl") + "/delete")
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 置顶操作
    /// - Parameters:
    /// status=1表示置顶，0=取消置顶
    ///   - completion: 回调
    //: class func req_TopMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func comeOut(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/pin"
        reqModel.requestPath = (String(str_photoText.suffix(8)) + String(str_detailText.suffix(5)))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取用户未读动态总数
    /// - Parameter completion: 回调
    //: class func req_getRemindNum(completion: @escaping FinishBlock) {
    class func germanismCompletion(completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/remindNum"
        reqModel.requestPath = (String(str_hiddenValue) + String(str_tempData.prefix(6)))
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取当前未读动态信息列表
    /// - Parameters:
    ///   - page: 分页
    ///   - completion: 回调
    //: class func req_getRemindList(page: Int, completion: @escaping (_ data: [TalkingRemindListModel]) -> Void) {
    class func theMic(page: Int, completion: @escaping (_ data: [StreamModelTransformable]) -> Void) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "mf/moment/remindList"
        reqModel.requestPath = (String(str_colorContent.suffix(6)) + String(str_bottomTitle.prefix(4)) + str_conversationValue.replacingOccurrences(of: "back", with: "n") + "dList")
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.params = ["page": page]
        reqModel.params = [String(bytes: str_insideValue.map{viewApp(blue: $0)}, encoding: .utf8)!: page]
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { _, result, _ in
            //: var dataArr: [TalkingRemindListModel] = []
            var dataArr: [StreamModelTransformable] = []
            //: guard let arr = result as? [[String: Any]] else {
            guard let arr = result as? [[String: Any]] else {
                //: completion(dataArr)
                completion(dataArr)
                //: return
                return
            }
            //: if let datas = Array<TalkingRemindListModel>.deserialize(from: arr as? Array) as? [TalkingRemindListModel] {
            if let datas = Array<StreamModelTransformable>.deserialize(from: arr as? Array) as? [StreamModelTransformable] {
                //: dataArr.append(contentsOf: datas)
                dataArr.append(contentsOf: datas)
            }
            //: completion(dataArr)
            completion(dataArr)
        }
    }

    /// COS  视频存储
    /// - Parameters:
    ///   - type: 1=动态，2=视频封面，3=私信视频
    ///   - completion: 回调
    //: class func req_getCredential(type: Int, completion: @escaping FinishBlock) {
    class func evaluate(type: Int, completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestPath = "cos/getCredential"
        reqModel.requestPath = (String(str_liveValue.suffix(6)) + str_dataText.replacingOccurrences(of: "available", with: "t") + String(str_picItemText.prefix(6)) + "tial")
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.params = ["type": type]
        reqModel.params = [(String(str_interactionData)): type]
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 上传cos日志存储路径
    /// - Parameters:
    ///   - fileUrl: 日志路径
    ///   - completion: 回调
    //: class func req_uploadLogPath(fileUrl: String, completion: @escaping FinishBlock) {
    class func toView(fileUrl: String, completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = IndexRequestModel()
        //: reqModel.requestServer = WatercourseThen.share.appConfigMode.reportDomain
        reqModel.requestServer = WatercourseThen.share.appConfigMode.reportDomain
        //: reqModel.requestPath = "user/reportUserInfo"
        reqModel.requestPath = (str_shareData.replacingOccurrences(of: "translate", with: "us") + "/rep" + String(str_makeInviteTitle.suffix(6)) + "rInf" + String(str_labValue))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: var params = [String: Any]()
        var params = [String: Any]()
        //: params["uid"] = WatercourseThen.share.loginUserMode.userID
        params[(str_managerData.lowercased())] = WatercourseThen.share.loginUserMode.userID
        //: params["deviceId"] = Adjust.adid() ?? ""
        params[(String(str_pointData.prefix(8)))] = Adjust.adid() ?? ""
        //: params["deviceName"] = "iphone"
        params[(String(str_betweenData.prefix(7)) + str_fromData.lowercased())] = (str_topDataPushContent.replacingOccurrences(of: "to", with: "e"))
        //: params["type"] = 1
        params[(String(str_interactionData))] = 1
        //: params["fileUrl"] = fileUrl
        params[(String(str_itemGiftData.prefix(7)))] = fileUrl
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_endVersionTitle.getStarted(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }
}
